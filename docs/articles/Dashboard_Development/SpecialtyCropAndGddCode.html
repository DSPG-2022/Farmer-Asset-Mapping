<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Developing Specialty Crop Data and Calculating GDDs • DSPGFarmer</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../../bootstrap-toc.css">
<script src="../../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../../pkgdown.css" rel="stylesheet">
<script src="../../pkgdown.js"></script><meta property="og:title" content="Developing Specialty Crop Data and Calculating GDDs">
<meta property="og:description" content="DSPGFarmer">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../../index.html">DSPGFarmer</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Dashboard
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../../articles/BeginningFarmerDashboard.html">Beginning Farmer's Asset Mapping Dashboard</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Dashboard Development
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../../articles/Dashboard_Development/SoilCollectionAndMergeCode.html">Retreiving and Connecting Soil Data to the Dashboard</a>
    </li>
    <li>
      <a href="../../articles/Dashboard_Development/SpecialtyCropAndGddCode.html">Developing Specialty Crop Data and Calculating GDDs</a>
    </li>
    <li>
      <a href="../../articles/Dashboard_Development/WeatherAndRiskManagementCode.html">Exploring Weather and Climate Data, Scraping, and Connecting to the Dashboard</a>
    </li>
    <li>
      <a href="../../articles/Dashboard_Development/UserInterfaceCode.html">Creating the Interactive User Input for Automating the Dashboard</a>
    </li>
  </ul>
</li>
<li>
  <a href="../../reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/DSPG2021/Farmer-Asset-Mapping/" class="external-link">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Developing Specialty Crop Data and Calculating
GDDs</h1>
                        <h4 data-toc-skip class="author">Sanika
Gokakkar</h4>
            
      
      
      <div class="hidden name"><code>SpecialtyCropAndGddCode.Rmd</code></div>

    </div>

    
    
<p>Downloading Libraries to Load, Clean and Format Data</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyr.tidyverse.org" class="external-link">tidyr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org" class="external-link">tidyverse</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://walker-data.com/tidycensus/" class="external-link">tidycensus</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span></code></pre></div>
<div class="section level2">
<h2 id="step-one-pulling-data">Step One: Pulling Data<a class="anchor" aria-label="anchor" href="#step-one-pulling-data"></a>
</h2>
<div class="section level4">
<h4 id="loading-weather-data">Loading Weather Data<a class="anchor" aria-label="anchor" href="#loading-weather-data"></a>
</h4>
<p>For the purpose of calculations of the Growing Degree Days, data
about the average temperature of days is required. For this reason, the
first task is to load the data. It was retrieved from <a href="https://mesonet.agron.iastate.edu/iemre/" class="external-link"><strong>Iowa Mesonet
Reanalysis Tool (IEMRE)</strong></a></p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mydata</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span><span class="st">"2015_2021_clim.csv"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/View.html" class="external-link">View</a></span><span class="op">(</span><span class="va">mydata</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="loaded-the-specialty-crop-dataset-as-a-csv">Loaded the specialty crop dataset as a csv<a class="anchor" aria-label="anchor" href="#loaded-the-specialty-crop-dataset-as-a-csv"></a>
</h4>
<p>Information about the Specialty Crops, and their Base Temperature is
required to measue the GDD. Thus the dataset is loaded as a csv. The
information and data used to create the specialty crop dataset is
collected from the <em>2022-Midwest-Veg-Guide</em> and the <em>Donald N.
Maynard, George J. Hochmuth -Knott’s Handbook forVegetable
Growers-Wiley</em>.</p>
</div>
<div class="section level4">
<h4 id="snippet-of-the-dataset">Snippet of the dataset<a class="anchor" aria-label="anchor" href="#snippet-of-the-dataset"></a>
</h4>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/include_graphics.html" class="external-link">include_graphics</a></span><span class="op">(</span><span class="st">"../../man/figures/crop_ss.png"</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">newdata</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span><span class="st">"Crop-Info_Farmer Asset Mapping.csv"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/View.html" class="external-link">View</a></span><span class="op">(</span><span class="va">newdata</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="step-two-cleaning-the-data">Step Two: Cleaning the Data<a class="anchor" aria-label="anchor" href="#step-two-cleaning-the-data"></a>
</h2>
<p>Dropped certain columns that didn’t have information required for the
GDD calculations. Additionally removed rows with no/null data, for easy
and clear visualization</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">new_data</span> <span class="op">&lt;-</span> <span class="va">newdata</span><span class="op">[</span><span class="op">-</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">20</span><span class="op">:</span><span class="fl">38</span><span class="op">)</span>, <span class="op">]</span> </span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/View.html" class="external-link">View</a></span><span class="op">(</span><span class="va">new_data</span><span class="op">)</span></span>
<span>  </span>
<span><span class="va">mydata</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="va">mydata</span>, select <span class="op">=</span> <span class="op">-</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">`mrms_precip_in`</span>,<span class="va">`prism_precip_in`</span>,<span class="va">`X12z_high_f`</span>,<span class="va">`climate_daily_high_f`</span>,<span class="va">`X12z_low_f`</span>,<span class="va">`climate_daily_low_f`</span>,<span class="va">`daily_precip_in`</span>,<span class="va">`X12z_precip_in`</span>,<span class="va">`climate_daily_precip_in`</span> <span class="op">)</span> <span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="step-three-calculations">Step Three: Calculations<a class="anchor" aria-label="anchor" href="#step-three-calculations"></a>
</h2>
<p>Calculated the average temperatures of every day from 2015-2021.This
was done by adding the <em>lowest Temperature of that day</em> to the
<em>Highest Temperature of that day</em>, and then diving the sum by
2.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mydata</span><span class="op">$</span><span class="va">Average_temp</span> <span class="op">=</span> <span class="op">(</span><span class="va">mydata</span><span class="op">$</span><span class="va">daily_high_f</span> <span class="op">+</span> <span class="va">mydata</span><span class="op">$</span><span class="va">daily_low_f</span><span class="op">)</span><span class="op">/</span><span class="fl">2</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/View.html" class="external-link">View</a></span><span class="op">(</span><span class="va">mydata</span><span class="op">)</span></span></code></pre></div>
<div class="section level4">
<h4 id="calculating-the-growing-degree-days">Calculating the Growing Degree Days<a class="anchor" aria-label="anchor" href="#calculating-the-growing-degree-days"></a>
</h4>
<ul>
<li>The calculations are made by subtracting the Base Temperatures of
the crops from the Mean Temperature of the Day.</li>
<li>This helped to get the GDD for all the specialty crops, from
2015-2021.</li>
</ul>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mydata</span><span class="op">$</span><span class="va">OnionGDD</span> <span class="op">&lt;-</span> <span class="va">mydata</span><span class="op">$</span><span class="va">Average_temp</span> <span class="op">-</span> <span class="fl">40</span></span>
<span></span>
<span><span class="va">mydata</span><span class="op">$</span><span class="va">PeasGDD</span> <span class="op">&lt;-</span> <span class="va">mydata</span><span class="op">$</span><span class="va">Average_temp</span> <span class="op">-</span> <span class="fl">39</span></span>
<span></span>
<span><span class="va">mydata</span><span class="op">$</span><span class="va">AsparagusGDD</span> <span class="op">&lt;-</span> <span class="va">mydata</span><span class="op">$</span><span class="va">Average_temp</span> <span class="op">-</span> <span class="fl">50</span></span>
<span></span>
<span><span class="va">mydata</span><span class="op">$</span><span class="va">PotatoGDD</span> <span class="op">&lt;-</span> <span class="va">mydata</span><span class="op">$</span><span class="va">Average_temp</span> <span class="op">-</span> <span class="fl">32</span></span>
<span></span>
<span><span class="va">mydata</span><span class="op">$</span><span class="va">CabbageGDD</span> <span class="op">&lt;-</span> <span class="va">mydata</span><span class="op">$</span><span class="va">Average_temp</span> <span class="op">-</span> <span class="fl">40</span></span>
<span></span>
<span><span class="va">mydata</span><span class="op">$</span><span class="va">Sweet_PotatoGDD</span> <span class="op">&lt;-</span> <span class="va">mydata</span><span class="op">$</span><span class="va">Average_temp</span> <span class="op">-</span> <span class="fl">65</span></span>
<span></span>
<span><span class="va">mydata</span><span class="op">$</span><span class="va">SquashGDD</span> <span class="op">&lt;-</span> <span class="va">mydata</span><span class="op">$</span><span class="va">Average_temp</span> <span class="op">-</span> <span class="fl">60</span></span>
<span></span>
<span><span class="va">mydata</span><span class="op">$</span><span class="va">CucumberGDD</span> <span class="op">&lt;-</span> <span class="va">mydata</span><span class="op">$</span><span class="va">Average_temp</span> <span class="op">-</span> <span class="fl">60</span></span>
<span></span>
<span><span class="va">mydata</span><span class="op">$</span><span class="va">CauliflowerGDD</span> <span class="op">&lt;-</span> <span class="va">mydata</span><span class="op">$</span><span class="va">Average_temp</span> <span class="op">-</span> <span class="fl">40</span></span>
<span></span>
<span><span class="va">mydata</span><span class="op">$</span><span class="va">PumpkinGDD</span> <span class="op">&lt;-</span> <span class="va">mydata</span><span class="op">$</span><span class="va">Average_temp</span> <span class="op">-</span> <span class="fl">60</span></span>
<span></span>
<span><span class="va">mydata</span><span class="op">$</span><span class="va">TomatoGDD</span> <span class="op">&lt;-</span> <span class="va">mydata</span><span class="op">$</span><span class="va">Average_temp</span> <span class="op">-</span> <span class="fl">50</span></span>
<span></span>
<span><span class="va">mydata</span><span class="op">$</span><span class="va">WatermelonGDD</span> <span class="op">&lt;-</span> <span class="va">mydata</span><span class="op">$</span><span class="va">Average_temp</span> <span class="op">-</span> <span class="fl">50</span></span>
<span></span>
<span><span class="va">mydata</span><span class="op">$</span><span class="va">CarrotGDD</span> <span class="op">&lt;-</span> <span class="va">mydata</span><span class="op">$</span><span class="va">Average_temp</span> <span class="op">-</span> <span class="fl">40</span></span>
<span></span>
<span><span class="va">mydata</span><span class="op">$</span><span class="va">Sweet_cornGDD</span> <span class="op">&lt;-</span> <span class="va">mydata</span><span class="op">$</span><span class="va">Average_temp</span> <span class="op">-</span> <span class="fl">50</span></span>
<span></span>
<span><span class="va">mydata</span><span class="op">$</span><span class="va">LettuceGDD</span> <span class="op">&lt;-</span> <span class="va">mydata</span><span class="op">$</span><span class="va">Average_temp</span> <span class="op">-</span> <span class="fl">40</span></span>
<span></span>
<span><span class="va">mydata</span><span class="op">$</span><span class="va">EggplantGDD</span> <span class="op">&lt;-</span> <span class="va">mydata</span><span class="op">$</span><span class="va">Average_temp</span> <span class="op">-</span> <span class="fl">50</span></span>
<span></span>
<span><span class="va">mydata</span><span class="op">$</span><span class="va">RadishGDD</span> <span class="op">&lt;-</span> <span class="va">mydata</span><span class="op">$</span><span class="va">Average_temp</span> <span class="op">-</span> <span class="fl">40</span></span>
<span></span>
<span><span class="va">mydata</span><span class="op">$</span><span class="va">SpinachGDD</span> <span class="op">&lt;-</span> <span class="va">mydata</span><span class="op">$</span><span class="va">Average_temp</span> <span class="op">-</span> <span class="fl">35</span></span>
<span></span>
<span><span class="va">mydata</span><span class="op">$</span><span class="va">CantaloupeGDD</span> <span class="op">&lt;-</span> <span class="va">mydata</span><span class="op">$</span><span class="va">Average_temp</span> <span class="op">-</span> <span class="fl">65</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/View.html" class="external-link">View</a></span><span class="op">(</span><span class="va">mydata</span><span class="op">)</span></span></code></pre></div>
<p>If Average Temperature of the day is lesser than the Base
Temperature, then the GDD = 0. The code helps to search GDD values that
have negative value, and replace those values with 0</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mydata</span><span class="op">$</span><span class="va">OnionGDD</span><span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">mydata</span><span class="op">$</span><span class="va">OnionGDD</span> <span class="op">&lt;</span> <span class="fl">0</span>, <span class="st">"0"</span>, <span class="va">mydata</span><span class="op">$</span><span class="va">OnionGDD</span><span class="op">)</span></span>
<span><span class="va">mydata</span><span class="op">$</span><span class="va">PeasGDD</span><span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">mydata</span><span class="op">$</span><span class="va">PeasGDD</span> <span class="op">&lt;</span> <span class="fl">0</span>, <span class="st">"0"</span>,<span class="va">mydata</span><span class="op">$</span><span class="va">PeasGDD</span> <span class="op">)</span></span>
<span><span class="va">mydata</span><span class="op">$</span><span class="va">AsparagusGDD</span><span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">mydata</span><span class="op">$</span><span class="va">AsparagusGDD</span> <span class="op">&lt;</span> <span class="fl">0</span>, <span class="st">"0"</span>, <span class="va">mydata</span><span class="op">$</span><span class="va">AsparagusGDD</span> <span class="op">)</span></span>
<span><span class="va">mydata</span><span class="op">$</span><span class="va">PotatoGDD</span><span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">mydata</span><span class="op">$</span><span class="va">PotatoGDD</span> <span class="op">&lt;</span> <span class="fl">0</span>, <span class="st">"0"</span>, <span class="va">mydata</span><span class="op">$</span><span class="va">PotatoGDD</span> <span class="op">)</span></span>
<span><span class="va">mydata</span><span class="op">$</span><span class="va">CabbageGDD</span><span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">mydata</span><span class="op">$</span><span class="va">CabbageGDD</span> <span class="op">&lt;</span> <span class="fl">0</span>, <span class="st">"0"</span>,<span class="va">mydata</span><span class="op">$</span><span class="va">CabbageGDD</span> <span class="op">)</span></span>
<span><span class="va">mydata</span><span class="op">$</span><span class="va">Sweet_PotatoGDD</span><span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">mydata</span><span class="op">$</span><span class="va">Sweet_PotatoGDD</span> <span class="op">&lt;</span> <span class="fl">0</span>, <span class="st">"0"</span>,<span class="va">mydata</span><span class="op">$</span><span class="va">Sweet_PotatoGDD</span> <span class="op">)</span></span>
<span><span class="va">mydata</span><span class="op">$</span><span class="va">SquashGDD</span><span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">mydata</span><span class="op">$</span><span class="va">SquashGDD</span> <span class="op">&lt;</span> <span class="fl">0</span>, <span class="st">"0"</span>,<span class="va">mydata</span><span class="op">$</span><span class="va">SquashGDD</span> <span class="op">)</span></span>
<span><span class="va">mydata</span><span class="op">$</span><span class="va">CucumberGDD</span><span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span> <span class="va">mydata</span><span class="op">$</span><span class="va">CucumberGDD</span><span class="op">&lt;</span> <span class="fl">0</span>, <span class="st">"0"</span>,<span class="va">mydata</span><span class="op">$</span><span class="va">CucumberGDD</span> <span class="op">)</span></span>
<span><span class="va">mydata</span><span class="op">$</span><span class="va">CauliflowerGDD</span><span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">mydata</span><span class="op">$</span><span class="va">CauliflowerGDD</span> <span class="op">&lt;</span> <span class="fl">0</span>, <span class="st">"0"</span>, <span class="va">mydata</span><span class="op">$</span><span class="va">CauliflowerGDD</span><span class="op">)</span></span>
<span><span class="va">mydata</span><span class="op">$</span><span class="va">PumpkinGDD</span><span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">mydata</span><span class="op">$</span><span class="va">PumpkinGDD</span> <span class="op">&lt;</span> <span class="fl">0</span>, <span class="st">"0"</span>,<span class="va">mydata</span><span class="op">$</span><span class="va">PumpkinGDD</span> <span class="op">)</span></span>
<span><span class="va">mydata</span><span class="op">$</span><span class="va">TomatoGDD</span><span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span> <span class="va">mydata</span><span class="op">$</span><span class="va">TomatoGDD</span><span class="op">&lt;</span> <span class="fl">0</span>, <span class="st">"0"</span>,<span class="va">mydata</span><span class="op">$</span><span class="va">TomatoGDD</span> <span class="op">)</span></span>
<span><span class="va">mydata</span><span class="op">$</span><span class="va">WatermelonGDD</span><span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">mydata</span><span class="op">$</span><span class="va">WatermelonGDD</span> <span class="op">&lt;</span> <span class="fl">0</span>, <span class="st">"0"</span>,<span class="va">mydata</span><span class="op">$</span><span class="va">WatermelonGDD</span> <span class="op">)</span></span>
<span><span class="va">mydata</span><span class="op">$</span><span class="va">CarrotGDD</span><span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span> <span class="va">mydata</span><span class="op">$</span><span class="va">CarrotGDD</span><span class="op">&lt;</span> <span class="fl">0</span>, <span class="st">"0"</span>,<span class="va">mydata</span><span class="op">$</span><span class="va">CarrotGDD</span> <span class="op">)</span></span>
<span><span class="va">mydata</span><span class="op">$</span><span class="va">Sweet_cornGDD</span><span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">mydata</span><span class="op">$</span><span class="va">Sweet_cornGDD</span> <span class="op">&lt;</span> <span class="fl">0</span>, <span class="st">"0"</span>,<span class="va">mydata</span><span class="op">$</span><span class="va">Sweet_cornGDD</span> <span class="op">)</span></span>
<span><span class="va">mydata</span><span class="op">$</span><span class="va">LettuceGDD</span><span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">mydata</span><span class="op">$</span><span class="va">LettuceGDD</span> <span class="op">&lt;</span> <span class="fl">0</span>, <span class="st">"0"</span>,<span class="va">mydata</span><span class="op">$</span><span class="va">LettuceGDD</span> <span class="op">)</span></span>
<span><span class="va">mydata</span><span class="op">$</span><span class="va">EggplantGDD</span><span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">mydata</span><span class="op">$</span><span class="va">EggplantGDD</span> <span class="op">&lt;</span> <span class="fl">0</span>, <span class="st">"0"</span>,<span class="va">mydata</span><span class="op">$</span><span class="va">EggplantGDD</span> <span class="op">)</span></span>
<span><span class="va">mydata</span><span class="op">$</span><span class="va">RadishGDD</span><span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">mydata</span><span class="op">$</span><span class="va">RadishGDD</span> <span class="op">&lt;</span> <span class="fl">0</span>, <span class="st">"0"</span>,<span class="va">mydata</span><span class="op">$</span><span class="va">RadishGDD</span> <span class="op">)</span></span>
<span><span class="va">mydata</span><span class="op">$</span><span class="va">SpinachGDD</span><span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">mydata</span><span class="op">$</span><span class="va">SpinachGDD</span> <span class="op">&lt;</span> <span class="fl">0</span>, <span class="st">"0"</span>,<span class="va">mydata</span><span class="op">$</span><span class="va">SpinachGDD</span> <span class="op">)</span></span>
<span><span class="va">mydata</span><span class="op">$</span><span class="va">CantaloupeGDD</span><span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">mydata</span><span class="op">$</span><span class="va">CantaloupeGDD</span> <span class="op">&lt;</span> <span class="fl">0</span>, <span class="st">"0"</span>,<span class="va">mydata</span><span class="op">$</span><span class="va">CantaloupeGDD</span> <span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/View.html" class="external-link">View</a></span><span class="op">(</span><span class="va">mydata</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="va">mydata</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="step-four-formatting">Step Four: Formatting<a class="anchor" aria-label="anchor" href="#step-four-formatting"></a>
</h2>
<p>Separating the Months and Years, in order to group data by the
Year</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mydata2</span> <span class="op">&lt;-</span> <span class="va">mydata</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>Month <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/substr.html" class="external-link">substr</a></span><span class="op">(</span><span class="va">date</span>,<span class="fl">0</span>,<span class="fl">1</span><span class="op">)</span>, year<span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/substr.html" class="external-link">substr</a></span><span class="op">(</span><span class="va">date</span>, <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nchar.html" class="external-link">nchar</a></span><span class="op">(</span><span class="va">date</span><span class="op">)</span><span class="op">-</span><span class="fl">3</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/nchar.html" class="external-link">nchar</a></span><span class="op">(</span><span class="va">date</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>Month <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">Month</span> <span class="op">==</span><span class="fl">1</span>,<span class="fl">10</span>,<span class="va">Month</span><span class="op">)</span><span class="op">)</span><span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">year</span>, <span class="va">Month</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarise</a></span><span class="op">(</span>acc_gdd_onion<span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="va">OnionGDD</span><span class="op">)</span><span class="op">)</span>,acc_gdd_peas <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="va">PeasGDD</span><span class="op">)</span><span class="op">)</span>, acc_gdd_asparaguss <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="va">AsparagusGDD</span><span class="op">)</span><span class="op">)</span>, acc_gdd_potato <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="va">PotatoGDD</span><span class="op">)</span><span class="op">)</span>, acc_gdd_cabbage <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="va">CabbageGDD</span><span class="op">)</span><span class="op">)</span>, acc_gdd_sweet_potato <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="va">Sweet_PotatoGDD</span><span class="op">)</span><span class="op">)</span>, acc_gdd_Squash <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="va">SquashGDD</span><span class="op">)</span><span class="op">)</span>, acc_gdd_cucumber <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="va">CucumberGDD</span><span class="op">)</span><span class="op">)</span>, acc_gdd_Cauliflower <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="va">CauliflowerGDD</span><span class="op">)</span><span class="op">)</span>, acc_gdd_Pumpkin <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="va">PumpkinGDD</span><span class="op">)</span><span class="op">)</span>, acc_gdd_Tomato <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="va">TomatoGDD</span><span class="op">)</span><span class="op">)</span>, acc_gdd_Watermelon <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="va">WatermelonGDD</span><span class="op">)</span><span class="op">)</span>, acc_gdd_carrot <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="va">CarrotGDD</span><span class="op">)</span><span class="op">)</span>, acc_gdd_sweet_corn <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="va">Sweet_cornGDD</span><span class="op">)</span><span class="op">)</span>, acc_gdd_lettuce <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="va">LettuceGDD</span><span class="op">)</span><span class="op">)</span>, acc_gdd_Eggplant <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="va">EggplantGDD</span><span class="op">)</span><span class="op">)</span>, acc_gdd_radish <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="va">RadishGDD</span><span class="op">)</span><span class="op">)</span>, acc_gdd_spinach <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="va">SpinachGDD</span><span class="op">)</span><span class="op">)</span>, acc_gdd_cantaloupe <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="va">CantaloupeGDD</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>Specifying the target months, and formatting the dates clearly. The
target months include April, May, June, July, August, September and
October. Other months have lower average temperatures, thus not possible
to grow crops then.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mydata2</span><span class="op">&lt;-</span> <span class="va">mydata2</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>Date <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="va">Month</span>,<span class="va">year</span>,sep<span class="op">=</span><span class="st">"/"</span><span class="op">)</span><span class="op">)</span></span>
<span> </span>
<span><span class="va">mydata2</span><span class="op">$</span><span class="va">Month</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">mydata2</span><span class="op">$</span><span class="va">Month</span> <span class="op">==</span> <span class="fl">4</span>,<span class="st">"April"</span>,</span>
<span>                       <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">mydata2</span><span class="op">$</span><span class="va">Month</span> <span class="op">==</span> <span class="fl">5</span>, <span class="st">"May"</span>,</span>
<span>                              <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">mydata2</span><span class="op">$</span><span class="va">Month</span> <span class="op">==</span> <span class="fl">6</span>, <span class="st">"June"</span>,</span>
<span>                                     <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">mydata2</span><span class="op">$</span><span class="va">Month</span> <span class="op">==</span> <span class="fl">7</span>, <span class="st">"July"</span>,</span>
<span>                                            <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">mydata2</span><span class="op">$</span><span class="va">Month</span> <span class="op">==</span> <span class="fl">8</span>, <span class="st">"August"</span>,</span>
<span>                                                   <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">mydata2</span><span class="op">$</span><span class="va">Month</span> <span class="op">==</span> <span class="fl">9</span>, <span class="st">"September"</span>,</span>
<span>                                                          <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">mydata2</span><span class="op">$</span><span class="va">Month</span> <span class="op">==</span> <span class="fl">10</span>,<span class="st">"October"</span>, <span class="va">mydata2</span><span class="op">$</span><span class="va">Month</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> </span>
<span></span>
<span>                                                                                                                                                                                                                                                                                               </span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/View.html" class="external-link">View</a></span><span class="op">(</span><span class="va">mydata2</span><span class="op">)</span></span></code></pre></div>
<p>Saving the data as a csv file to the local directory</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/write.table.html" class="external-link">write.csv</a></span><span class="op">(</span><span class="va">mydata2</span>, <span class="st">"S:/DSPG2022/ProjectB/Speciality_Crops_GDD_cleaned_2015-2021.csv"</span>, row.names <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Harun Celik.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
